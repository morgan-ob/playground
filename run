<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running Pace Race Simulation</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: Arial, sans-serif;
        }
        #raceTrack {
            position: relative;
            width: 600px;
            height: 400px;
            border: 1px solid black;
            margin-top: 20px;
        }
        .dot {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        .dot1 {
            background-color: red;
        }
        .dot2 {
            background-color: blue;
        }
    </style>
</head>
<body>
    <h1>Running Pace Race Simulation</h1>
    <form id="paceForm">
        <label for="pace1">Pace 1 (km/h): </label>
        <input type="number" id="pace1" name="pace1" step="0.1" required>
        <label for="pace2">Pace 2 (km/h): </label>
        <input type="number" id="pace2" name="pace2" step="0.1" required>
        <button type="submit">Start Race</button>
    </form>
    <div id="raceTrack">
        <div class="dot dot1" id="dot1"></div>
        <div class="dot dot2" id="dot2"></div>
    </div>

    <script>
        const form = document.getElementById('paceForm');
        const dot1 = document.getElementById('dot1');
        const dot2 = document.getElementById('dot2');

        form.addEventListener('submit', (event) => {
            event.preventDefault();

            const pace1 = parseFloat(document.getElementById('pace1').value);
            const pace2 = parseFloat(document.getElementById('pace2').value);

            startRace(pace1, pace2);
        });

        function startRace(pace1, pace2) {
            const trackWidth = 600;
            const trackHeight = 400;
            const totalDistance = trackWidth * 2 + trackHeight * 2;

            const speed1 = pace1 * 1000 / 3600; // Convert km/h to m/s
            const speed2 = pace2 * 1000 / 3600; // Convert km/h to m/s

            const duration1 = totalDistance / speed1;
            const duration2 = totalDistance / speed2;

            let position1 = 0;
            let position2 = 0;

            function moveDot(dot, duration, position) {
                const startTime = performance.now();
                function update() {
                    const elapsed = performance.now() - startTime;
                    const progress = elapsed / duration;
                    position = totalDistance * progress;

                    let x, y;
                    if (position <= trackWidth) {
                        x = position;
                        y = 0;
                    } else if (position <= trackWidth + trackHeight) {
                        x = trackWidth;
                        y = position - trackWidth;
                    } else if (position <= 2 * trackWidth + trackHeight) {
                        x = 2 * trackWidth + trackHeight - position;
                        y = trackHeight;
                    } else {
                        x = 0;
                        y = totalDistance - position;
                    }

                    dot.style.left = `${x}px`;
                    dot.style.top = `${y}px`;

                    if (progress < 1) {
                        requestAnimationFrame(update);
                    }
                }
                update();
            }

            moveDot(dot1, duration1, position1);
            moveDot(dot2, duration2, position2);
        }
    </script>
</body>
</html>
